@model CurriculumVitaeApp.Models.Curriculum

@{
    ViewData["Title"] = "Seleccionar";
}

<h1>Seleccionar items</h1>

<div class="form-group">
    <label class="control-label">Crear encabezado</label>
    <input type="text" name="encabezado" class="form-control input-valor" value="@ViewBag.Encabezado" required />
    <label class="control-label">Crear nombre de cv</label>
    <input type="text" name="nombreCv" class="form-control input-nombre-cv" value="@ViewBag.NombreCv" required />
</div>

<div class="opciones-container">
    <div class="opcion" data-url="/Curriculum/SelectorDatosBasicos">
        <button class="btn-toggle">+</button>
        <span class="titulo">Datos Básicos</span>
        <div class="contenido-parcial"></div>
    </div>

    <div class="opcion" data-url="/Curriculum/SelectorExperienciaLaboral">
        <button class="btn-toggle">+</button>
        <span class="titulo">Experiencia Laboral</span>
        <div class="contenido-parcial"></div>
    </div>

    <div class="opcion" data-url="/Curriculum/SelectorFormacionAcademica">
        <button class="btn-toggle">+</button>
        <span class="titulo">Formación académica</span>
        <div class="contenido-parcial"></div>
    </div>

    <div class="opcion" data-url="/Curriculum/SelectorHabilidad">
        <button class="btn-toggle">+</button>
        <span class="titulo">Habilidades blandas</span>
        <div class="contenido-parcial"></div>
    </div>
    <div class="opcion" data-url="/Curriculum/SelectorConocimiento">
        <button class="btn-toggle">+</button>
        <span class="titulo">Conocimientos técnicos</span>
        <div class="contenido-parcial"></div>
    </div>
    <div class="opcion" data-url="/Curriculum/SelectorEnlaces">
        <button class="btn-toggle">+</button>
        <span class="titulo">Enlaces</span>
        <div class="contenido-parcial"></div>
    </div>
</div>

<form id="formSeleccion" asp-action="GenerarPDF" method="post">
    <input type="hidden" name="seleccionadosJson" id="seleccionadosJson" />
    <input type="hidden" name="Encabezado" class="hidden-encabezado" />
    <input type="hidden" name="NombreCv" class="hidden-nombre-cv" />

    <button type="submit" onclick="confirmarSeleccion(event)" class="btn btn-success">Generar PDF</button>
</form>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

    <script>
        window.swalErrorMessage = @(
        TempData["SwalError"] != null
        ? Html.Raw(Json.Serialize(TempData["SwalError"]))
        : "null"
    );
    </script>

    <script src="~/js/vista-seleccion.js"></script>
        
}


